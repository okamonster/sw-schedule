# Gemba! プロジェクト文脈

## 📖 プロジェクト概要

**プロジェクト名**: Gemba! (sw-live-schedule)  
**技術スタック**: Turborepo + Next.js + TypeScript  
**目的**: 推し活スケジュール確認プラットフォーム  
**ターゲット**: 地下アイドル、インディーズアーティストのファン

## 🎯 プロダクトコンセプト

### 問題意識
- インディーズアーティストのスケジュールがTwitterのみで発信
- イベント情報の分散化による把握困難
- 推しの出演情報を一覧で確認できない
- 新しい推しを見つける機会が限られている
- 行きたいイベントを効率的に探せない

### 解決策
- オープン編集システム
- 推し活特化のカレンダー表示
- **推しのアーティストの全イベントをGoogleカレンダーに一括同期**
- **推し発見・イベント探索機能**

## 🏗️ アーキテクチャ

### アプリケーション構成
- `apps/web`: フロントエンドアプリケーション（Next.js）
- `apps/backend`: バックエンドAPI（Next.js API Routes）
- `packages/ui`: 共有UIコンポーネント
- `packages/typescript-config`: TypeScript設定

### 技術スタック詳細
- **フレームワーク**: Next.js (SSR/SSG対応)
- **言語**: TypeScript
- **パッケージマネージャー**: pnpm
- **モノレポ管理**: Turborepo
- **リンター**: ESLint + Biome
- **データベース**: 未定（PostgreSQL/SQLite検討中）
- **認証**: 未定（NextAuth.js検討中）
- **検索エンジン**: 未定（Elasticsearch/PostgreSQL全文検索検討中）
- **推薦システム**: 未定（協調フィルタリング/コンテンツベース検討中）

## 🎯 主要機能

### 実装済み
- 基本的なプロジェクト構造
- Turborepo設定
- TypeScript設定
- タスク管理システム

### 実装予定
- **アーティスト管理機能**
  - アーティスト登録・編集
  - プロフィール管理（写真、SNS、活動地域など）
  - ジャンル・タグ管理
- **イベント管理機能**
  - イベント登録・編集
  - 出演者管理
  - 会場・料金情報
  - セットリスト予想
- **カレンダー表示機能**
  - 推しの出演日ハイライト
  - 月別・週別表示
  - **推しのアーティストの全イベントをGoogleカレンダーに一括同期**
- **ユーザー認証・推し登録機能**
  - ユーザー登録・ログイン
  - 推し登録・管理
  - プッシュ通知設定
- **推し発見機能**
  - アーティスト推薦アルゴリズム
  - 人気ランキング
  - 新進気鋭アーティスト特集
  - ジャンル別検索
- **イベント探索機能**
  - 日付・地域・ジャンル検索
  - 共演情報検索
  - イベントレビュー・口コミ
  - ブックマーク機能
- **共演情報可視化機能**
  - アーティスト間の関係性表示
  - 共演履歴・統計

## 🔄 開発フロー

### 開発コマンド
```bash
# 開発サーバー起動
pnpm dev

# ビルド
pnpm build

# リント
pnpm lint
```

### ブランチ戦略
- `main`: 本番環境
- `develop`: 開発環境
- `feature/*`: 機能開発

## 📋 重要な決定事項

### 技術選定理由
- **Turborepo**: モノレポ管理の効率化
- **Next.js**: SSR/SSG対応と開発体験
- **TypeScript**: 型安全性の確保
- **推し活特化**: ターゲットユーザーを明確に定義

### アーキテクチャ設計
- モノレポ構成でコード共有を最適化
- フロントエンド・バックエンド分離
- 共有UIコンポーネントの活用
- 編集システムの実装
- **推薦システムの実装方針**:
  - 協調フィルタリング（ユーザー間の類似性）
  - コンテンツベース（アーティスト間の類似性）
  - ハイブリッドアプローチ

### マネタイズ戦略
- **段階的アプローチ**: 初期は無料でユーザー獲得、後で有料機能追加
- **推し登録数制限**: 無料プランは3人まで、有料で無制限
- **推し活ファンに優しい価格**: 月額500円〜1,000円程度
- **機能制限モデル**: 基本的な機能は無料、高度な機能は有料

### データ設計方針
- **アーティスト情報の管理**:
  - 基本情報（名前、写真、SNS）
  - 活動地域、ジャンル、タグ
  - フォロワー数、人気度
- **イベント情報の管理**:
  - 基本情報（日時、会場、料金）
  - 出演者、セットリスト
  - レビュー・口コミ
- **ユーザー情報の管理**:
  - 推し登録、好み設定
  - 検索履歴、ブックマーク
  - 通知設定
- **推薦・検索データ**:
  - アーティスト間の類似度
  - ユーザーの行動履歴
  - 検索インデックス

## 🔗 関連リソース

- [Turborepo ドキュメント](https://turborepo.com/docs)
- [Next.js ドキュメント](https://nextjs.org/docs)
- [TypeScript ドキュメント](https://www.typescriptlang.org/docs)

### 2025-06-XX
- アーティスト一覧ページの実装完了
  - 検索機能、無限スクロール、クエリパラメータ連動、/artist/search API連携を実装
- アーティスト作成機能の実装完了
  - フォーム、バリデーション、API連携を実装

### 2025-06-28 アーティスト詳細ページ実装・設計メモ
- アーティスト詳細ページのUI/UX設計・実装完了
- フォロー機能の状態管理はuseFollow hookで実装し、リアルタイム性は重視せず楽観的更新を採用
- Hydrationエラーはサーバー/クライアントの状態差異を避ける設計で解決
- 今後、推し登録数のグローバル管理やContext API導入も検討余地あり

---
最終更新: 2024年12月19日 